# 约束满足问题

## 定义

约束满足问题包含三个成分：

- $ X $ **变量**集合 $ \{X_1, ···, X_n\} $。
- $ D $ **值域**集合 $ \{D_1, ···, D_n\} $，每个变量都有自己的值域。
- $ C $ 描述变量取值的**约束**集合。
  这里的约束是**绝对约束**，即一定要满足的约束。但现实世界的约束还包括**偏好约束**，指出那些解是更喜欢的。包括后者的的问题称为**约束优化问题**（COP）。

CSP 解决的问题可以抽象为从 $ X $ 的值域 $ D $ 里选取一系列值，并且在这些取值下 $ X $ 满足约束 $ C $。
CSP 的解是 $ X $ 的一个完整赋值。

## CSP 的操作

1. 搜索：
从几种可能性中选择新的变量赋值。

2. 约束传播（推理）：
使用约束来减小一个变量的合法取值范围，从而影响到与此变量有约束关系的其他变量的取值。核心思想：**局部相容性**。

二者可以交替进行，或者在搜索前进行约束传播。

## 局部相容性

1. 结点相容
   - 定义：单个变量值域中所有取值都满足它的一元约束。

2. 弧相容
   - 定义：对 $ \forall v_i \in D_i $ ，均 $ \exists v_{j0} \in D_j $ 使得 $ <v_i, v_{j0}> $ 满足弧 $ <X_i, X_j> $ 的二元约束。
   - 由于 $n$ 元约束都可以抽象成一系列的二元约束，所以通常考虑只含有二元约束的 CSP 问题。

3. 路径相容
pass

4. k-相容
pass

5. 全局约束
pass
